# 운영체제

> [강의 링크](http://www.kocw.net/home/search/kemView.do?kemId=978503)

## 3. 고등 운영체제, 인터럽트 기반 운영체제

### A. 고등 운영체제

> 기본 운영체제

**1. 싱글 프로세서 시스템**

- 하나의 메모리에 하나의 CPU가 결합된 구조. (메모리는 Bus로 연결)

> 고등 운영체제 - 개요만 다룸

**2. 다중 프로세서 시스템(Multiprocessor system)**

- 개요
  - `병렬시스템`: 하나의 메모리에 여러개의 CPU가 <span style="color:red">병렬</span>로 결합된 구조
  - 메인메모리에 결합되어 있기 때문에 강한 결합
  - 멀티코어(quad core 등)랑은 다름. 멀티코어는 1개의 CPU

- 장점
  - Performance : 한번에 많은 계산을 통해 성능 향상
  - Cost : 하나의 좋은 CPU보다 여러개의 싼 CPU를 사용하는게 더 저렴
  - 신뢰성 : 한개의 CPU가 고장나도 다른 CPU가 작업을 대체 할 수 있음

![](https://i.esdrop.com/d/jSddFMRUfR.png)

**3. 분산 시스템(Distributed system)**

- 개요

  - `다중 컴퓨터 시스템`: 컴퓨터 여러대를 연결해 사용하는 개념

  - LAN으로 여러 CPU-Memory 쌍(1:1)을 연결
  - 다중 프로세서 시스템과 구현목적은 같음. 비교적 느슨한 결합(메모리공유 안하다 보니까)

- 예시
  - 일기예보에서 서울, 경기, 대구 등 각 지역에 대한 분석을 각각의 컴퓨터에서 진행
  - 분석 과정에서 일부 중복되는 process는 공유하지만 다중 프로세서 시스템에 비해 느림

![](http://www.padakuu.com/image/DistributedOperatingSystems.jpg)

***다중 프로세서 시스템 vs 분산 시스템**

```
다중 프로세서 시스템 : 1대의 컴퓨터(슈퍼컴퓨터), 동시에 여러가지 일을 처리
분산 시스템 : 여러대의 컴퓨터를 네트워크로 연결, 하나의 일을 동시에 여럿이 처리
```

**4. 실시간 시스템(Real-time system)**

- 개요 : `Real-time OS(RTOS)`- 계산이 반드시 어떤 시간내에 끝나야하는 경우
- 예시
- 더하기, 곱하기 연산은 빨리하면 좋다. 그러나 꼭 deadline이 지켜져야하는것은 아니다.
  - 내비게이션 : 교차로 진입전 방향을 결정해야됨. -> 실시간 시스템 필수
- 공장자동화, 군사목적 등

**참고**

```
'리눅스는 분산시스템이고, 윈도우는 다중프로세서 시스템이다'는 틀린 문장이다. 각 OS는 어디 속해있는 개념이 아니다.
리눅스는 분산시스템과 다중프로세서 시스템의 목적으로 각각 사용될 수 있다.
```

 

## B. 인터럽트(가로채기) 기반 시스템

> 현대 운영체제는 인터럽트 기반 시스템

**운영체제(OS)**

- 운영체제는 상시 메모리에 상주
- 평소에는 사건(event)을 기다리며 대기 상태에 있음
- 어떠한 명령을 지시하는 OS코드(ISR : interrupt service routine)가 내재되어있음. `마우스가 ~하면 어떤 코드를 동작시켜라`
- 운영체제의 위치는 보조기억장치(hard disk 등) 내부임

**인터럽트(interrupt)**

- 사건을 발생시키는 행위

- 종류

  - 하드웨어 인터럽트 : 마우스 움직임, 클릭, 키보드 타이핑 등을 통해 발생된 전기신호

  - 소프트웨어 인터럽트 : 한글파일 실행, 어셈블리어(add, sub 등)
  - 내부 인터럽트 : 어떤 수를 0으로 나누지 못하므로 이때 에러 발생시키는것, 잘못실행된 프로그램을 강제로 종료하는것

- 유저의 행동에 따른 예제

  @ 한글파일 열기

  1. `처음에 컴퓨터를 킨다`
     - 메인메모리는 비워져있음. CPU가 하드디스크를 뒤져 OS를 메인메로리로 가져옴 - 이 과정을 `부팅` 이라고 함.
  2. `부팅 완료되어 바탕화면 도착`
     - OS는 대기상태

  3. `마우스움직이면`

     - 전기신호 발생해서 CPU에 보냄(interupt) 

       -> CPU는 하던일 중지하고 OS로 점프

       -> 마우스 움직이는대로 커서를 움직인다(by ISR)

  4. `따블클릭` 

     - 마찬가지로 interupt 발생, x,y좌표 찾아서 루틴(ISR)대로 함.

  5. `한글 파일(hwp) 열기`

     - OS가 하드디스크를 뒤져 hwp 프로그램을 메인 메모리로 올림(소프트웨어 인터럽트)

       -> 한글파일에 저장된 데이터도 같이 불러옴

     - 왜 한글파일을 여는 코드는 한글파일이 아니라 ISR에 저장되어있을까 ? 

       : 모든 한글파일(x.hwp)마다 이러한 코드를 저장해놓는건 메모리 낭비

  6. `바탕화면에서 한글파일로 화면 전환`

     - OS는 다시 event가 생길때 까지 대기상태

  